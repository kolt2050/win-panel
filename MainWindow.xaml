<Window x:Class="WinPanel.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="WinPanel"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        Topmost="True"
        ResizeMode="NoResize"
        SizeToContent="WidthAndHeight"
        ShowInTaskbar="False"
        MouseLeftButtonDown="Window_MouseLeftButtonDown"
        AllowDrop="True"
        DragEnter="Window_DragEnter"
        Drop="Window_Drop"
        Loaded="Window_Loaded">
    
    <Border x:Name="MainBorder" Background="#CC1E1E2E" CornerRadius="12" Padding="8,4" 
            BorderBrush="#404050" BorderThickness="1"
            MouseRightButtonUp="Panel_RightClick">
        
        <!-- Shortcuts Panel -->
        <ItemsControl x:Name="ShortcutsPanel">
            <ItemsControl.ItemsPanel>
                <ItemsPanelTemplate>
                    <StackPanel x:Name="ShortcutsStack" Orientation="Horizontal"/>
                </ItemsPanelTemplate>
            </ItemsControl.ItemsPanel>
            <ItemsControl.ItemTemplate>
                <DataTemplate>
                    <Button Style="{StaticResource ShortcutButtonStyle}"
                            Click="Shortcut_Click"
                            MouseRightButtonUp="Shortcut_RightClick"
                            Tag="{Binding}">
                        <Image Source="{Binding Icon}" Width="32" Height="32" RenderOptions.BitmapScalingMode="HighQuality"/>
                    </Button>
                </DataTemplate>
            </ItemsControl.ItemTemplate>
        </ItemsControl>
    </Border>
    
    <!-- Context Menu for Shortcuts -->
    <Window.Resources>
        <ContextMenu x:Key="ShortcutContextMenu">
            <MenuItem Header="ðŸš€ Ð—Ð°Ð¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ" Click="ContextMenu_Launch"/>
            <MenuItem Header="ðŸ“‚ ÐžÑ‚ÐºÑ€Ñ‹Ñ‚ÑŒ Ñ€Ð°ÑÐ¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ" Click="ContextMenu_OpenLocation"/>
            <Separator/>
            <MenuItem Header="âŒ Ð£Ð´Ð°Ð»Ð¸Ñ‚ÑŒ" Click="ContextMenu_Delete"/>
        </ContextMenu>
        
        <!-- Panel Context Menu -->
        <ContextMenu x:Key="PanelContextMenu" Opened="PanelContextMenu_Opened">
            <MenuItem Header="ðŸ“ ÐžÑ€Ð¸ÐµÐ½Ñ‚Ð°Ñ†Ð¸Ñ">
                <MenuItem x:Name="MenuHorizontal" Header="â†” Ð“Ð¾Ñ€Ð¸Ð·Ð¾Ð½Ñ‚Ð°Ð»ÑŒÐ½Ð¾" Click="Layout_Horizontal" IsCheckable="True" IsChecked="True"/>
                <MenuItem x:Name="MenuVertical" Header="â†• Ð’ÐµÑ€Ñ‚Ð¸ÐºÐ°Ð»ÑŒÐ½Ð¾" Click="Layout_Vertical" IsCheckable="True"/>
            </MenuItem>
            <MenuItem Header="ðŸ‘ ÐŸÑ€Ð¾Ð·Ñ€Ð°Ñ‡Ð½Ð¾ÑÑ‚ÑŒ">
                <StackPanel Orientation="Horizontal" Margin="4">
                    <Slider x:Name="OpacitySlider" Width="150" Minimum="20" Maximum="100" Value="80"
                            ValueChanged="OpacitySlider_ValueChanged"/>
                    <TextBlock x:Name="OpacityText" Text="80%" Foreground="#888888" 
                               FontSize="11" VerticalAlignment="Center" Margin="8,0,0,0"/>
                </StackPanel>
            </MenuItem>
            <Separator/>
            <MenuItem Header="âŒ Ð—Ð°ÐºÑ€Ñ‹Ñ‚ÑŒ" Click="Menu_Close"/>
        </ContextMenu>
    </Window.Resources>
</Window>
